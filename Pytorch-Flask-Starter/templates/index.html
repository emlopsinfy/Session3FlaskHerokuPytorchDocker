{% extends 'base.html' %}

{% block content %}

<div class="row py-2">
<label for="PytorchHerokuDocker">Choose any option:  </label>
		<select id="PytorchHerokuDocker" onchange = "displayinfer()">
		  <option value=""></option>
		  <option value="About Team">About Team</option>
		  <option value="Infer">Infer</option>
		</select>
</div>

<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
  {% if results %} 
  <p class="text-center">Sample Image:
    <img src="{{results['img']}}"" alt="" width=120, height=120>    
    </p>
  <p class="mt-5">Result: <strong>{{results['inference']}}%</strong></p>   
  <p class="mt-5">Confidence: <strong>{{results['confidence']}}%</strong></p>
  {% endif%}  
</div>

<div class="container" id="AboutTeam" style="display:none">
<table>
  <tr>
    <th>Team Name</th>
    <th>Team Members</th>
    <th>Work</th>
  </tr>
  <tr>
    <td>EMLOPS INFY</td>
    <td>Ramjee R1, Balaji A J, Raajesh L R, Mahesh R</td>
    <td>Infosys, Infosys, Accenture, Infosys</td>
  </tr>
  <tr>
  </tr>
</table>  
</div>

<div class="container" id="inferdiv" style="display:none"> 

<div class="row">

  <div class="col-sm-8 offset-sm-2">
    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
      <h1 class="display-4">Pytorch Flask Docker App</h1>
      <p class="lead">This project is aimed to help Pytorch machine learning developers to quickly build a Flask
        web app
        in a Docker container ready to be deployed. <br> <a
          href="https://github.com/imadtoubal/Pytorch-Flask-Docker-App"> View on GitHub</a></p>
    </div>
  </div>
</div>
<div class="row">
  <div class="mb-2 col-md-6 offset-md-3">
    <form action="/infer" method="POST" enctype="multipart/form-data">
      <div class="input-group">
        <div class="custom-file">
          <!--<input type="file" name="file" accept=".jpg, .jpeg, .png" class="custom-file-input" id="inputGroupFile"
            aria-describedby="inputGroupFileAddon04">
          <label class="custom-file-label" for="inputGroupFile">Choose file</label>-->
          <label for="formFileMultiple" class="form-label">Multiple files input example</label>
          <input class="form-control" type="file" name="file" id="formFileMultiple" multiple>
        </div>
        <div class="input-group-append">
          <input type="submit" value="Upload"  class="btn btn-outline-secondary" type="button"
            id="inputGroupFileAddon04" />
        </div>
        <br/>
        {% if err_msg %} 
        <p class="text-center">ERROR: {{err_msg}}</p> 
        {% endif%}
      </div>
    </form>
  </div>
  <div class="row">
    <div class="col-sm-6 offset-sm-3 my-5">
      <center>
        <p class="text-muted">
          By default, this app uses MobileNetV2 image classifier that was pre-trained on the ImageNet dataset.
          This can be easily changed with any custom deep learning model.
        </p>
      </center>
    </div>
  </div>
</div>
</div>

{% endblock %}